<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Bridge</title>
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta http-equiv="Content-Security-Policy" content="
      script-src 'self' 'sha256-BoPXu4k++WEZsCZbh6IeTtxn0tW4Jk2Y4EaXitpEkj0=';
      style-src 'self' 'unsafe-inline';
      img-src 'self' data:;
      font-src 'self' data:;
    ">
  </head>

  <body>
    <div id="app">
      <script>
        (function() {
          var theme = localStorage.getItem('theme');
          if(theme === 'dark') {
            document.body.classList.add('theme-dark');
          } else if(theme === 'light') {
            document.body.classList.add('theme-light');
          }
        })();
      </script>
      <style>
        * {margin: 0; padding: 0;}
        .loading {width: 100vw; height: 100vh; display: flex; justify-content: center; align-items: center; font-size: 20px; color: #333; background-color: #eee;}
        .wave-effect {position: relative; display: flex; justify-content: center; align-items: center; width: 150px; height: 150px;}
        .wave-effect::before, .wave-effect::after {content: ''; position: absolute; left: 50%; top: 50%; width: 150px; height: 150px; border-radius: 50%; transform: translate(-50%, -50%) scale(0.9); z-index: 0;}
        .wave-effect::before {background: #DCDFE6; animation: wave 2.2s infinite ease-in-out; opacity: 0.5; transition: opacity 0.5s ease-in-out;}
        .wave-effect::after {background: #DCDFE6; animation: wave 2.2s infinite ease-in-out; animation-delay: 1.1s; opacity: 0.2; transition: opacity 0.5s ease-in-out;}
        .loading-img {position: relative; z-index: 1;}
        @keyframes wave {0% {transform: translate(-50%, -50%) scale(0.9); opacity: 0.2;} 30% {opacity: 0.5;} 100% {transform: translate(-50%, -50%) scale(2.0); opacity: 0;}}
        body.theme-dark .loading {background-color: #18181c; color: #eee;}
        body.theme-dark .wave-effect::before, body.theme-dark .wave-effect::after {background: #3a3a40;}
        body.theme-light .loading {background-color: #eee; color: #333;}
        body.theme-light .wave-effect::before, body.theme-light .wave-effect::after {background: #DCDFE6;}
        @media (prefers-color-scheme: dark) {
          body:not(.theme-light):not(.theme-dark) .loading {background-color: #18181c; color: #eee;}
          body:not(.theme-light):not(.theme-dark) .wave-effect::before, body:not(.theme-light):not(.theme-dark) .wave-effect::after {background: #3a3a40;}
        }
      </style>

      <div class="loading">
        <div class="wave-effect">
          <img class="loading-img" src="/src/assets/icon.png" width="100" height="100" />
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
